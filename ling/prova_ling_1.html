<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prova — Linguagens e suas Tecnologias</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js"></script>
  <style>
    input[name="studentName"] { text-transform: uppercase; }
    .no-select { user-select: none; -webkit-user-select: none; -ms-user-select: none; }
    .modal-backdrop { background: rgba(16,24,40,0.65); position: fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:60; }
    .modal { max-width:720px; width:94%; background:white; border-radius:12px; padding:24px; box-shadow:0 10px 30px rgba(2,6,23,0.2); }
    .toast { position: fixed; right: 20px; top: 20px; z-index:70; background: rgba(2,6,23,0.92); color: #fff; padding: 10px 14px; border-radius: 8px; box-shadow: 0 6px 18px rgba(2,6,23,0.3); display:flex; gap:10px; align-items:center; }
    .option-label { cursor:pointer; }
    input[type="radio"] { accent-color: #2563eb; }
    .spinner { width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.3); border-left-color: #fff; border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .check-wrap { width: 80px; height: 80px; background-color: #dcfce7; border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center; }
    .check-svg { width: 48px; height: 48px; }
    .checkmark__path { stroke-dasharray: 100; stroke-dashoffset: 100; stroke: #22c55e; stroke-width: 6; stroke-linecap: round; stroke-linejoin: round; fill: none; animation: draw 0.8s 0.2s ease-out forwards; }
    @keyframes draw { to { stroke-dashoffset: 0; } }
    .confetti { width:100%; height:40px; overflow:hidden; position:relative; }
    .confetti span{ position:absolute; top:-10px; font-size:12px; opacity:0; animation: conf 1400ms linear forwards; }
    .confetti span:nth-child(1){ left:10%; animation-delay:0ms; }
    .confetti span:nth-child(2){ left:30%; animation-delay:120ms; }
    .confetti span:nth-child(3){ left:50%; animation-delay:240ms; }
    .confetti span:nth-child(4){ left:70%; animation-delay:360ms; }
    @keyframes conf { to { transform: translateY(36px) rotate(25deg); opacity:1; } }
  </style>
</head>
<body class="bg-gray-50 text-gray-900 no-select">
  <div class="max-w-5xl mx-auto p-6">
    <header class="mb-4">
      <h1 class="text-2xl font-bold">Bloco de Avaliação — Linguagens e suas Tecnologias (1ª Série)</h1>
      <p class="text-sm text-gray-600 mt-1">Bem-vindo à Plataforma de Avaliação CEJA. 1 tentativa permitida.</p>
    </header>

    <section id="studentInfo" class="bg-white p-6 sm:p-8 rounded-xl shadow-md border border-slate-200/80 mb-6">
      <div class="mb-5 flex items-center gap-3"><div class="bg-blue-100 p-2 rounded-full"><svg class="w-6 h-6 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg></div><h2 class="text-xl font-bold text-slate-800">Identificação do Aluno</h2></div>
      <form id="infoForm" class="space-y-4">
        <div><label for="studentId" class="sr-only">Matrícula</label><div class="relative"><div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10.75 2.75a.75.75 0 00-1.5 0v8.5a.75.75 0 001.5 0v-8.5z" /><path d="M3.5 12a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0zM11.5 12a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z" /><path fill-rule="evenodd" d="M5.057 14.42a.75.75 0 01.488.943 9.972 9.972 0 001.619 2.592.75.75 0 01-1.129.981 11.472 11.472 0 01-1.85-2.968.75.75 0 01.943-.488zM14.943 14.42a.75.75 0 00-.488.943 9.973 9.973 0 01-1.619 2.592.75.75 0 101.129.981 11.472 11.472 0 001.85-2.968.75.75 0 00-.943-.488z" clip-rule="evenodd" /></svg></div><input id="studentId" name="studentId" type="text" class="w-full rounded-lg border-gray-300 py-3 pl-10 pr-4 shadow-sm focus:border-blue-500 focus:ring-1" placeholder="Sua Matrícula (Ex: 2412767146-8)" required /></div></div>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="studentName" class="sr-only">Nome Completo</label><div class="relative"><div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z" /></svg></div><input id="studentName" name="studentName" type="text" class="w-full rounded-lg border-gray-300 py-3 pl-10 pr-4 shadow-sm focus:border-blue-500 focus:ring-1" placeholder="Nome Completo (em caixa alta)" required /></div></div>
          <div><label for="studentClass" class="sr-only">Turma</label><div class="relative"><div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM6 6a.75.75 0 011.5 0v1.25a.75.75 0 01-1.5 0V6zM6 9.75a.75.75 0 011.5 0v3.5a.75.75 0 01-1.5 0v-3.5zM8.5 6a.75.75 0 011.5 0v3.5a.75.75 0 01-1.5 0V6zM12 6.75a.75.75 0 00-1.5 0V13a.75.75 0 001.5 0V6.75z" clip-rule="evenodd" /></svg></div><select id="studentClass" name="studentClass" class="w-full appearance-none rounded-lg border-gray-300 py-3 pl-10 pr-8 shadow-sm focus:border-blue-500 focus:ring-1" required><option value="" disabled selected>Selecione a Turma</option><option value="A">Turma A</option><option value="B">Turma B</option></select><div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"><svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9" /></svg></div></div></div></div>
        <p id="infoMsg" class="text-sm text-red-600 h-5"></p>
        <div class="pt-2"><button id="startBtn" type="button" class="group flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-6 py-3 font-semibold text-white transition hover:bg-blue-700 active:scale-95 disabled:bg-blue-400 disabled:cursor-wait"><span id="startBtnText">Iniciar Avaliação</span><div id="startBtnSpinner" class="spinner hidden"></div><svg class="h-5 w-5" id="startBtnArrow" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" /></svg></button></div>
      </form>
    </section>

    <main id="quizArea" class="hidden">
      <form id="quizForm" class="space-y-6 bg-white p-6 rounded shadow">

        <!-- ============================================= -->
        <!--        INÍCIO DAS QUESTÕES (LINGUAGENS)       -->
        <!-- ============================================= -->

        <!-- ARTE (DANÇA) -->
        <fieldset id="q1" class="border rounded p-4">
            <legend class="font-semibold">Item 1 - Arte (Dança)</legend>
            <p class="mt-2 text-sm">A criatividade na dança envolve a capacidade de gerar movimentos originais e expressivos, explorando novas formas de movimento e expressão corporal. É um processo que combina o uso da técnica com a liberdade criativa, permitindo que o dançarino possa vir a se expressar de maneira única e autêntica ao dançar possibilidades coreográficas.</p>
            <p class="mt-2 text-sm font-semibold">A respeito da criatividade na dança, considera-se a necessidade de</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q1" value="A"><span>(A) trabalhar a repetição de movimentos sem a necessidade de inovação.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q1" value="B"><span>(B) priorizar o uso da técnica secundarizando outros elementos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q1" value="C"><span>(C) permitir que o dançarino seja protagonista na coreografia realizada.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q1" value="D"><span>(D) considerar a habilidade de saber coreografias ao fazer criações pessoais.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q1" value="E"><span>(E) depender da capacidade de reproduzir técnicas e a expressão individual.</span></label>
            </div>
        </fieldset>
        
        <fieldset id="q2" class="border rounded p-4">
            <legend class="font-semibold">Item 2 - Arte (Dança)</legend>
            <p class="mt-2 text-sm"><b>Texto I</b><br>A atividade criadora da imaginação está relacionada diretamente com a riqueza e variedade da experiência acumulada pelo homem, uma vez que esta experiência é a matéria-prima a partir da qual se elaboram as construções da fantasia. Quanto mais rica for a experiência humana, mais abundante será o material disponível para a imaginação.<br><span class="text-xs text-gray-500">Vygostsky, L.S. (2014, p.12). Imaginação e criatividade na infância. São Paulo: Martins Fontes.</span></p>
            <p class="mt-2 text-sm"><b>Texto II</b></p>
            <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">Ampliar a experiência do movimento e potencializar a criatividade na dança, compreende</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q2" value="A"><span>(A) praticar modalidades variadas de dança, explorando suas possibilidades de movimentação.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q2" value="B"><span>(B) realizar escuta musical sujeita ao gosto pessoal, juntando toda ideia coreográfica ao som.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q2" value="C"><span>(C) construir sequências coreográficas, agregando somente experiências satisfatórias de dança.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q2" value="D"><span>(D) adotar movimentos sistematizados, realizando combinações numa única sequência coreográfica.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q2" value="E"><span>(E) exercitar a repetição de movimentos, deixando o trabalho de improvisação para coreografias específicas.</span></label>
            </div>
        </fieldset>

        <fieldset id="q3" class="border rounded p-4">
            <legend class="font-semibold">Item 3 - Arte (Dança)</legend>
            <p class="mt-2 text-sm">A relação entre dança e tecnologia é um campo de investigação que reflete transformações profundas nas artes, na cultura, na maneira como compreendemos o corpo e o movimento no mundo contemporâneo. Hoje, indo além do palco tradicional, artistas e teóricos vêm explorando como as tecnologias digitais, audiovisuais, interativas e até imersivas podem dialogar com a linguagem da dança, criando e editando novas formas de expressão.</p>
            <p class="mt-2 text-sm font-semibold">Na relação entre dança e tecnologia, a relevância dos processos de criação reside em</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q3" value="A"><span>(A) limitar o espaço da cena ao palco tradicional.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q3" value="B"><span>(B) fazer do vídeo uma forma de registro para futuras consultas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q3" value="C"><span>(C) substituir a necessidade do dançarino por formas digitais.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q3" value="D"><span>(D) criar danças voltadas para o consumo dos espaços audiovisuais e interativos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q3" value="E"><span>(E) transformar o vídeo num sistema de expressão em que a edição também participa da coreografia.</span></label>
            </div>
        </fieldset>

        <fieldset id="q4" class="border rounded p-4">
            <legend class="font-semibold">Item 4 - Arte (Dança)</legend>
            <p class="mt-2 text-sm">A videodança é um produto híbrido realizado na mistura entre audiovisual e dança, tendo como principal elemento o movimento. Isso significa que os movimentos da câmera, bem como a escolha dos planos, a montagem e edição das cenas são tão importantes para o resultado quanto os movimentos capturados pelas lentes. Apesar de adotar o termo “vídeo” em sua nomenclatura, a videodança pode ser produzida tanto no meio eletrônico e digital, quanto em película cinematográfica.</p>
            <p class="mt-2 text-sm font-semibold">O que diferencia a videodança da performance ao vivo e/ou do registro documental é o fato dela ser uma</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q4" value="A"><span>(A) produção realizada em espaços convencionais.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q4" value="B"><span>(B) documentação fiel do que acontece nos espetáculos teatrais.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q4" value="C"><span>(C) alternativa às danças tradicionais ao focar seu trabalho artístico na tecnologia.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q4" value="D"><span>(D) proposta concebida para a linguagem audiovisual que integra a câmera à sua coautoria.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q4" value="E"><span>(E) obra que pode ser criada sem a presença do coreógrafo para a finalidade artística de edição.</span></label>
            </div>
        </fieldset>

        <fieldset id="q5" class="border rounded p-4">
            <legend class="font-semibold">Item 5 - Arte (Dança)</legend>
            <p class="mt-2 text-sm">O Festival Folclórico de Parintins é uma festa popular tradicional, celebrada na cidade de Parintins, no Amazonas. As apresentações fazem parte do conjunto de danças do boi-bumbá, num espetáculo de cores, música, dança e tradição amazônica. O Boi Garantido é representado pela cor vermelha, enquanto o Boi Caprichoso tem a cor azul. Em 2025, entre 27 e 29 de junho, na sua 58ª edição, integrando tradição e inovação tecnológica, Isabelle Nogueira (Boi Garantido) e Marciele Albuquerque (Boi Caprichoso) realizaram transformações impactantes para milhares de pessoas que assistiam presencialmente e/ou pelas mídias, ao se apresentarem como Cunhã-Poranga. Isabelle se transformou em arara vermelha, representando a lenda indígena Tapyra'yawara. Marciele foi "Mãe de todas as mães da floresta" e se tornou gavião. Misturando arte, religiosidade, crítica social e orgulho regional, o festival celebra a identidade do povo amazônida e encanta o país com sua grandiosidade e emoção.</p>
            <p class="mt-2 text-sm font-semibold">Considerando a tradição e a inovação tecnológica, no Festival de Parintins, observa-se que</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q5" value="A"><span>(A) o uso da tecnologia substitui a tradição para criar efeitos visuais modernos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q5" value="B"><span>(B) a transmissão do espetáculo enfraquece a identidade cultural do povo amazônida.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q5" value="C"><span>(C) a pesquisa de movimentos e o uso da tecnologia acontece à parte dos elementos da cultura regional.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q5" value="D"><span>(D) a presença de lendas indígenas nas coreografias tem uma função estética e desconexa com a narrativa do festival.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q5" value="E"><span>(E) o processo criativo preserva a essência cultural do boi-bumbá e utiliza a tecnologia para ampliação do espetáculo.</span></label>
            </div>
        </fieldset>

        <fieldset id="q6" class="border rounded p-4">
            <legend class="font-semibold">Item 6 - Arte (Dança)</legend>
            <p class="mt-2 text-sm">Cerrado Mundo Mágico é um espetáculo de dança contemporânea, com teatro para crianças, que discute a temática cerrado e as questões da contemporaneidade implicadas a esse ambiente, de maneira lúdica, divertida, dinâmica, criativa e com conteúdo pedagógico, formando a consciência do espectador para o comprometimento, preservação e manutenção desse bioma. [...] A peça se desenrola numa perspectiva de apresentação do Cerrado e alguns dos animais que povoam esse habitat, com uma trama que vai do diálogo entre os bichos até à forma como se relacionam e protegem o lugar onde moram. O ponto crucial da encenação se dá quando o cerrado pega fogo e os bichos precisam realizar um ritual para pedir chuva. Depois de conseguirem apagar o fogo e sobreviverem, festejam a vida e deixam a mensagem e reflexão de cuidado do meio ambiente.</p>
            <p class="mt-2 text-sm font-semibold">A principal estratégia de criação do espetáculo foi</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q6" value="A"><span>(A) focar em temas infantis e da fantasia para fazer uma discussão ambiental.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q6" value="B"><span>(B) utilizar diálogos longos para transmitir uma mensagem de preservação da natureza.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q6" value="C"><span>(C) desenvolver uma narrativa complexa e enredo detalhado de interação entre animais do cerrado.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q6" value="D"><span>(D) adaptar a expressão cênica aos temas do cerrado, meio ambiente e de preservação da natureza.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q6" value="E"><span>(E) elaborar um espetáculo focado em vídeo-projeções e recursos multimídia para além dos elementos de dança e teatro.</span></label>
            </div>
        </fieldset>

        <fieldset id="q7" class="border rounded p-4">
            <legend class="font-semibold">Item 7 - Arte (Dança)</legend>
            <p class="mt-2 text-sm">Na dança, o diário de bordo é um recurso utilizado para o registro pessoal e detalhado de um processo criativo e/ou da aprendizagem. Nele, o dançarino documenta suas experiências, reflexões, descobertas e desafios. Ele acompanha o desenvolvimento e a evolução de um projeto, permitindo analisar escolhas e aprimorar a prática artística da dança. Pode incluir registros de ensaios, aulas, observações, reflexões, ideias, esboços, fontes de inspiração, avaliação do processo, fotos etc.</p>
            <p class="mt-2 text-sm font-semibold">Para que serve o diário de bordo nos processos de criação em dança?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q7" value="A"><span>(A) Substituir a necessidade de ensaios pelo registro técnico.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q7" value="B"><span>(B) Realizar escritos, reflexões e registros pessoais para autoconhecimento.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q7" value="C"><span>(C) Focar na coleta de referenciais dos artistas e obras já produzidas em dança.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q7" value="D"><span>(D) Inserir imagens que documentam o passo a passo de uma coreografia a ser realizada.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q7" value="E"><span>(E) Avaliar o progresso e identificar erros do dançarino e da proposta coreográfica.</span></label>
            </div>
        </fieldset>

        <!-- EDUCAÇÃO FÍSICA -->
        <fieldset id="q8" class="border rounded p-4">
            <legend class="font-semibold">Item 8 - Educação Física</legend>
            <p class="mt-2 text-sm">Os jogos têm como principal função proporcionar entretenimento, lazer e diversão aos participantes. A depender da modalidade, eles também podem proporcionar benefícios para a saúde de crianças, adultos e idosos como o desenvolvimento do raciocínio lógico e o auxílio na coordenação motora. Os jogos não têm limite de idade, bem como podem ser praticados de forma individual ou coletiva.</p>
            <p class="mt-2 text-sm font-semibold">De acordo com o texto, os jogos podem promover</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q8" value="A"><span>(A) entretenimento, principalmente aos participantes idosos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q8" value="B"><span>(B) benefícios à saúde, especificamente de crianças e adultos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q8" value="C"><span>(C) entretenimento, lazer, benefícios à saúde, desenvolvimento do raciocínio lógico e auxílio na coordenação motora.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q8" value="D"><span>(D) benefícios como entretenimento, lazer e saúde apenas para adultos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q8" value="E"><span>(E) desenvolvimento da capacidade motora, somente de crianças.</span></label>
            </div>
        </fieldset>

        <fieldset id="q9" class="border rounded p-4">
            <legend class="font-semibold">Item 9 - Educação Física</legend>
            <p class="mt-2 text-sm">Como assim esporte não é coisa de menina? Quantas vezes você já escutou que “futebol é coisa de menino" ou "balé é para meninas"? Infelizmente os exemplos desses tipos de divisão são muitos recorrentes e todos vivemos essa realidade em nosso dia a dia. No esporte e lazer, importantes atividades que promovem a qualidade de vida, inclusão social e cidadania, essa triste realidade também se faz presente. Afinal, existe muita desigualdade de oportunidades, diretos e tratamento entre homens e mulheres no cenário esportivo.</p>
            <p class="mt-2 text-sm font-semibold">Com base no texto, qual é a principal consequência dos estereótipos de gênero no esporte?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q9" value="A"><span>(A) O aumento da competitividade entre atletas de diferentes gêneros.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q9" value="B"><span>(B) A garantia de que cada esporte seja praticado pelo gênero que tem mais aptidão física.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q9" value="C"><span>(C) A limitação de oportunidades e o reforço da noção de que certas atividades são apropriadas somente para um gênero.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q9" value="D"><span>(D) A promoção da qualidade de vida e da inclusão social, sem distinção de gênero.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q9" value="E"><span>(E) O aumento da visibilidade para os atletas que praticam esportes não tradicionais para seu gênero.</span></label>
            </div>
        </fieldset>

        <fieldset id="q10" class="border rounded p-4">
            <legend class="font-semibold">Item 10 - Educação Física</legend>
            <p class="mt-2 text-sm">O texto menciona que a desigualdade de gênero no esporte se manifesta em “desigualdade de oportunidades, direitos e tratamento entre homens e mulheres”.</p>
            <p class="mt-2 text-sm font-semibold">Um exemplo direto dessa de desigualdade no cenário esportivo é o/a</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q10" value="A"><span>(A) criação de categorias de peso em esportes de luta para garantir a segurança dos atletas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q10" value="B"><span>(B) popularização do futebol feminino, que atrai grande público e patrocínios.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q10" value="C"><span>(C) prática de exercícios físicos como uma forma de lazer e bem-estar para todas as pessoas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q10" value="D"><span>(D) menor investimento e cobertura da mídia para equipes e atletas femininas em comparação com as masculinas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q10" value="E"><span>(E) maior participação de atletas de diferentes etnias e origens sociais em uma mesma equipe.</span></label>
            </div>
        </fieldset>

        <fieldset id="q11" class="border rounded p-4">
            <legend class="font-semibold">Item 11 - Educação Física</legend>
            <p class="mt-2 text-sm">Os jogos interclasses apresentam uma forma divertida, empolgante e positiva de competição entre equipes no âmbito escolar. Esses jogos, também conhecidos como "jogos corporativos ou jogos de integração", têm como objetivo promover o trabalho em equipe, a união e o espírito esportivo entre os participantes.</p>
            <p class="mt-2 text-sm font-semibold">De acordo com o texto, qual é o principal objetivo dos jogos interclasses?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q11" value="A"><span>(A) Selecionar os melhores atletas da escola para competições externas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q11" value="B"><span>(B) Promover o trabalho em equipe, a união e o espírito esportivo entre os participantes.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q11" value="C"><span>(C) Incentivar a competição individual e o desenvolvimento de habilidades específicas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q11" value="D"><span>(D) Proporcionar uma forma divertida de lazer durante o ano letivo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q11" value="E"><span>(E) Distribuir prêmios e troféus para as equipes vencedoras.</span></label>
            </div>
        </fieldset>

        <fieldset id="q12" class="border rounded p-4">
            <legend class="font-semibold">Item 12 - Educação Física</legend>
            <p class="mt-2 text-sm">Quando falamos de participantes [dos jogos interclasses], referimo-nos não somente aos alunos/competidores, mas, também, aos professores envolvidos nas dinâmicas e todo corpo administrativo da escola, o qual tem papel fundamental de estruturar e viabilizar a realização das atividades.</p>
            <p class="mt-2 text-sm font-semibold">Quem são os participantes na realização dos jogos interclasses?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q12" value="A"><span>(A) Os alunos/competidores.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q12" value="B"><span>(B) Os professores de Educação Física e os alunos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q12" value="C"><span>(C) Os alunos, os professores e o corpo administrativo da escola.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q12" value="D"><span>(D) Os pais dos alunos e os patrocinadores do evento.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q12" value="E"><span>(E) O diretor da escola e os alunos mais velhos.</span></label>
            </div>
        </fieldset>

        <fieldset id="q13" class="border rounded p-4">
            <legend class="font-semibold">Item 13 - Educação Física</legend>
            <p class="mt-2 text-sm">A ginástica para todos é uma atividade divertida e inclusiva que combina vários movimentos e elementos. Ela é uma forma de exercício físico que pode ser praticada por pessoas de todas as idades e habilidades, promovendo a saúde, a coordenação e a criatividade.</p>
            <p class="mt-2 text-sm font-semibold">Com base no texto, qual é o principal objetivo da Ginástica para todos?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q13" value="A"><span>(A) Formar atletas de alto rendimento para competições.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q13" value="B"><span>(B) Promover saúde, coordenação e criatividade em pessoas de todas as idades e habilidades.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q13" value="C"><span>(C) Priorizar o ensino dos movimentos da ginástica artística de forma individual.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q13" value="D"><span>(D) Criar coreografias de caráter profissional para eventos de grande porte.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q13" value="E"><span>(E) Focar em um único elemento da ginástica para o exercício físico.</span></label>
            </div>
        </fieldset>

        <fieldset id="q14" class="border rounded p-4">
            <legend class="font-semibold">Item 14 - Educação Física</legend>
            <p class="mt-2 text-sm">O aviãozinho é quando você se equilibra em uma perna, com os braços abertos como asas e o corpo inclinado para frente. [...]</p>
            <p class="mt-2 text-sm font-semibold">Qual dos elementos é descrito como uma pose de equilíbrio em que o ginasta fica em uma perna só, com o tronco inclinado para frente e a outra perna estendida para trás?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q14" value="A"><span>(A) Vela.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q14" value="B"><span>(B) Ponte.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q14" value="C"><span>(C) Estrela.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q14" value="D"><span>(D) Aviãozinho.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q14" value="E"><span>(E) Rolamento.</span></label>
            </div>
        </fieldset>

        <!-- LÍNGUA INGLESA -->
        <fieldset id="q15" class="border rounded p-4">
            <legend class="font-semibold">Item 15 - Língua Inglesa</legend>
            <p class="mt-2 text-sm"><b>Teacher:</b> Yes, come in. Why do you always come late?<br><b>Student:</b> Sir, my house is far from the school.<br><b>Teacher:</b> How far is your home from here?<br><b>Student:</b> It is 5 km from here.<br><b>Teacher:</b> How long does it take to reach school?<br><b>Student:</b> It takes half hour.<br><b>Teacher:</b> How do you come to school?</p>
            <p class="mt-2 text-sm font-semibold">Com base na leitura do texto de suporte, o(a) estudante chega sempre atrasado na escola e apresenta a seguinte justificativa ao professor:</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q15" value="A"><span>(A) "Minha casa é muito distante da escola."</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q15" value="B"><span>(B) "Eu moro com meus avós.”</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q15" value="C"><span>(C) "Minha casa é muito aconchegante.”</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q15" value="D"><span>(D) “Minha mãe sempre me acorda atrasado."</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q15" value="E"><span>(E) “O ônibus quebrou."</span></label>
            </div>
        </fieldset>

        <fieldset id="q16" class="border rounded p-4">
            <legend class="font-semibold">Item 16 - Língua Inglesa</legend>
            <p class="mt-2 text-sm">A forma verbal escolhida pelo autor reflete a intenção comunicativa e o tipo de relação que ele deseja estabelecer entre as ideias expressas no texto.</p>
            <p class="mt-2 text-sm font-semibold">Na pergunta “Why do you <u>always come</u> late?”, qual é o tempo verbal e o que ele descreve?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q16" value="A"><span>(A) Simple Past: descreve uma ação que aconteceu no passado indefinido.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q16" value="B"><span>(B) Simple Future: indica que uma ação acontecerá no futuro.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q16" value="C"><span>(C) Simple Present: caracteriza um hábito, uma rotina.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q16" value="D"><span>(D) Present Continuous: retrata uma ação que está acontecendo no momento da fala.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q16" value="E"><span>(E) Imperative: expressa uma ordem ou um pedido.</span></label>
            </div>
        </fieldset>

        <fieldset id="q17" class="border rounded p-4">
            <legend class="font-semibold">Item 17 - Língua Inglesa</legend>
            <p class="mt-2 text-sm">A tirinha é um gênero textual que tem o objetivo de entreter e, muitas vezes, fazer uma crítica social ou reflexão.</p>
            <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">Na tirinha anterior, o autor nos leva a refletir sobre:</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q17" value="A"><span>(A) Desigualdades políticas entre os EUA e a Inglaterra.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q17" value="B"><span>(B) Liberdade de expressão no continente americano e europeu.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q17" value="C"><span>(C) Similaridade de algumas expressões americanas e britânicas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q17" value="D"><span>(D) Diferenças no sotaque americano e britânico.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q17" value="E"><span>(E) Semelhança geográfica dos EUA e da Inglaterra.</span></label>
            </div>
        </fieldset>

        <fieldset id="q18" class="border rounded p-4">
            <legend class="font-semibold">Item 18 - Língua Inglesa</legend>
            <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">Identifique o tempo verbal utilizado na pergunta do segundo quadrinho: “What are you doing to the coffee table?"</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q18" value="A"><span>(A) Simple Present.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q18" value="B"><span>(B) Simple Past.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q18" value="C"><span>(C) Present Continuous.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q18" value="D"><span>(D) Simple Future.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q18" value="E"><span>(E) Past Continuous.</span></label>
            </div>
        </fieldset>

        <fieldset id="q19" class="border rounded p-4">
            <legend class="font-semibold">Item 19 - Língua Inglesa</legend>
            <p class="mt-2 text-sm"><b>Good morning, Mr. Morgan.</b><br><b>Good morning, Mrs. Johnson. How are you doing today?</b><br><b>I'm doing fine, thank you. If you don't mind, I would like to introduce someone to you.</b><br><b>- Oh, it will be a pleasure.</b><br><b>This is Mr. Brown, our new manager. This is Mr. Morgan, our CEO.</b><br><b>- Nice to meet you Mr. Brown. Welcome to our company.</b><br><b>- Thank you very much, sir.</b></p>
            <p class="mt-2 text-sm font-semibold">Sobre o uso que envolvem os contextos formais de comunicação, é correto afirmar que:</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q19" value="A"><span>(A) permite o uso de gírias, palavras descontraídas, uso da linguagem coloquial e frases abreviadas no texto.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q19" value="B"><span>(B) não permite o uso de gírias, linguagem coloquial e expressões descontraídas dentro do texto.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q19" value="C"><span>(C) permite o uso de gírias quando aplicadas em contextos da linguagem coloquial e formal.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q19" value="D"><span>(D) não permite o uso da linguagem formal e padrão em contextos de produção de formalidade.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q19" value="E"><span>(E) A linguagem informal obedece somente aos critérios de produção oral entre falantes da mesma língua.</span></label>
            </div>
        </fieldset>

        <fieldset id="q20" class="border rounded p-4">
            <legend class="font-semibold">Item 20 - Língua Inglesa</legend>
            <p class="mt-2 text-sm">No quadrinho anterior, lemos os Sarah's Scribbles, que conta as histórias de Sarah, uma personagem atrapalhada e simpática que usa uma linguagem simples e engraçada para falar de temas do cotidiano.</p>
             <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">Marque a opção correta quanto ao uso da linguagem empregada no texto.</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q20" value="A"><span>(A) Linguagem formal.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q20" value="B"><span>(B) Linguagem padrão</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q20" value="C"><span>(C) Linguagem informal</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q20" value="D"><span>(D) Expressão formal de uso da língua.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q20" value="E"><span>(E) Contexto de comunicação social.</span></label>
            </div>
        </fieldset>
        
        <!-- LÍNGUA PORTUGUESA -->
        <fieldset id="q21" class="border rounded p-4">
            <legend class="font-semibold">Item 21 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm"><b>Leia o fragmento do livro “A Moreninha”, de Joaquim Manuel de Macedo.</b><br>Negócios importantes, minha senhora, tinham obrigado meu pai a deixar sua fazenda e a vir passar alguns meses na Corte; eu o acompanhei, assim como toda a nossa família. Isto foi há sete anos, e nessa época houve um dia... mas que importa o dia?... eu o poderia dizer já; o dia, o lugar, a hora, tudo está presente à minha alma, como se fora sucedido ontem o acontecimento que vou ter a honra de relatar; é uma loucura a minha mania... embora...<br>Foi, pois, há sete anos, e tinha eu então treze de idade que, brincando em uma das belas praias do Rio de Janeiro, vi uma menina que não poderia ter ainda oito.<br>[...]</p>
            <p class="mt-2 text-sm font-semibold">Esse texto foi escrito para</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q21" value="A"><span>(A) narrar uma história.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q21" value="B"><span>(B) entreter os leitores.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q21" value="C"><span>(C) descrever fatos cotidianos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q21" value="D"><span>(D) instruir sobre acontecimentos do passado.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q21" value="E"><span>(E) expor um ponto de vista sobre um assunto.</span></label>
            </div>
        </fieldset>

        <fieldset id="q22" class="border rounded p-4">
            <legend class="font-semibold">Item 22 - Língua Portuguesa</legend>
             <p class="mt-2 text-sm"><i>(Utilize o mesmo fragmento de "A Moreninha" da questão anterior)</i></p>
            <p class="mt-2 text-sm font-semibold">Esse fragmento de texto é do gênero</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q22" value="A"><span>(A) poema.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q22" value="B"><span>(B) resumo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q22" value="C"><span>(C) resenha.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q22" value="D"><span>(D) romance.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q22" value="E"><span>(E) biografia.</span></label>
            </div>
        </fieldset>

        <fieldset id="q23" class="border rounded p-4">
            <legend class="font-semibold">Item 23 - Língua Portuguesa</legend>
             <p class="mt-2 text-sm"><i>(Utilize o mesmo fragmento de "A Moreninha" da questão 21)</i></p>
            <p class="mt-2 text-sm font-semibold">Qual trecho desse texto indica que ele é narrado em primeira pessoa – narrador personagem?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q23" value="A"><span>(A) "Figure-se a mais bonita criança do mundo, ..."</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q23" value="B"><span>(B) "Uma criança viva e espirituosa, quando está quieta, ..."</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q23" value="C"><span>(C) “Ela estava à borda do mar e seu rosto voltado para ele; ..."</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q23" value="D"><span>(D) "...ela precipitou-se sobre a concha, mas a areia escorregou debaixo de seus pés;”</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q23" value="E"><span>(E) "...eu não quis saber de fluxos nem refluxos de ondas; corri para elas com entusiasmo...”</span></label>
            </div>
        </fieldset>

        <fieldset id="q24" class="border rounded p-4">
            <legend class="font-semibold">Item 24 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: "...Ela estava à <u>borda do mar</u> e seu rosto voltado para ele; ...", a expressão em destaque tem o sentido de</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q24" value="A"><span>(A) acima do mar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q24" value="B"><span>(B) ao lado do mar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q24" value="C"><span>(C) à beira do mar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q24" value="D"><span>(D) ao centro do mar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q24" value="E"><span>(E) à esquerda do mar.</span></label>
            </div>
        </fieldset>

        <fieldset id="q25" class="border rounded p-4">
            <legend class="font-semibold">Item 25 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: “Negócios importantes, minha senhora, tinham obrigado meu pai a deixar sua fazenda e a vir passar alguns meses na <u>Corte</u>; ...", as palavras em destaque determinam um/uma circunstância de</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q25" value="A"><span>(A) lugar</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q25" value="B"><span>(B) modo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q25" value="C"><span>(C) tempo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q25" value="D"><span>(D) afirmação.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q25" value="E"><span>(E) intensidade.</span></label>
            </div>
        </fieldset>

        <fieldset id="q26" class="border rounded p-4">
            <legend class="font-semibold">Item 26 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: "... <u>Figure-se a mais bonita criança do mundo</u>, (...)", a expressão em destaque apresenta a figura de linguagem</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q26" value="A"><span>(A) antítese.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q26" value="B"><span>(B) hipérbole.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q26" value="C"><span>(C) catacrese.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q26" value="D"><span>(D) onomatopeia.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q26" value="E"><span>(E) personificação.</span></label>
            </div>
        </fieldset>

        <fieldset id="q27" class="border rounded p-4">
            <legend class="font-semibold">Item 27 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: “Com suas lindas mãozinhas arregaçou o vestido até os joelhos, e quando a onda recuou, ela fez um movimento, mas ficou ainda no mesmo lugar, inclinada para diante e na ponta dos pés; segunda, terceira, quarta, quinta onda, e sempre a mesma cena de ataque e receio do inimigo.”, infere-se que a menina</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q27" value="A"><span>(A) queria tomar banho no mar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q27" value="B"><span>(B) sentia medo de cair e se machucar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q27" value="C"><span>(C) desejava brincar nas areias da praia.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q27" value="D"><span>(D) estava com medo de se molhar nas águas do mar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q27" value="E"><span>(E) sentia-se feliz, por isso não estava com medo de se molhar.</span></label>
            </div>
        </fieldset>

        <fieldset id="q28" class="border rounded p-4">
            <legend class="font-semibold">Item 28 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm"><b>Leia o texto: QUEM QUER CASAR COM A DONA BARATINHA?</b><br>Após se deparar com uma barata, muitas pessoas entram em pânico só de pensarem na possibilidade de uma "infestação”. Nesse momento, é possível que você, algum familiar ou conhecido já tenham pensado em como seria bom acabar com todas as baratas do mundo. [...] Para começo de conversa, é bom saber que existem cerca de 5 mil espécies diferentes de baratas, que pertencem à ordem Blattodea. As baratas urbanas, estas que vivem nas cidades e dentro da sua casa, representam apenas cerca de 1% desse total.  desse total. Um
dado interessante revelado por um estudo é que na
cidade de São Paulo existem cerca de 200 baratas
por habitante! O tamanho das baratas também é
bastante variado, desde espécies com apenas
alguns milímetros até as maiores, que podem
chegar a cerca de 10 cm de comprimento (que
ocorrem na Austrália). As baratas são organismos
muito importantes em ambientes silvestres e mesmo
nos ecossistemas urbanos. Elas se alimentam de
restos de animais mortos (inclusive humanos),
fezes, detritos e material vegetal. Além disso, são
presas de animais como lacraias, aranhas,
escorpiões, aves, ratos e morcegos. Por isso, o
desaparecimento das baratas causaria um
desequilíbrio no ecossistema. Como se alimentam
de animais mortos, ajudam na decomposição
desses animais devolvendo os nutrientes presentes
nesses cadáveres ao ecossistema; e como presas
de outros animais, a extinção das baratas poderia
causar efeitos negativos nas populações dos seus
predadores. Agora, um fato curioso sobre as
baratas: você sabia que estes insetos também
fazem parte da dieta humana? Em muitos países,
especialmente na Ásia, as pessoas comem baratas!
Na China, por exemplo, é comum encontrar
espetinhos de baratas. E elas são um ótimo
alimento, ricas em gorduras e carboidratos, e
também uma ótima fonte de cálcio! Outra
curiosidade sobre as baratas é sua longevidade.
São animais que surgiram há cerca de 300 milhões
de anos. Sobreviveram à extinção em massa que
extinguiu os dinossauros, há cerca de 65 milhões de
anos! Além disso, suportam cerca de 20 vezes mais
radiação do que o homem. No entanto, são tão
suscetíveis a um ataque nuclear quanto os
humanos. A diferença é que, por viverem em
galerias subterrâneas e terem seus ovos protegidos
por uma cápsula, as baratas poderiam ter mais
chance de sobreviver a esse tipo de ataque. As
baratas também têm um jeito bastante interessante
de se comunicarem entre elas. Cientistas
descobriram que bactérias presentes nas fezes das
baratas emitem cheiros que atraem outras baratas.
É assim que uma barata avisa a outra sobre uma
fonte de alimento, por exemplo. E, por isso, as
baratas tendem a ser vistas em grupos. Pode
parecer engraçado ou até mesmo nojento estudar
baratas, mas a verdade é que estes estudos são
importantes, pois podem ajudar no desenvolvimento
de inseticidas mais específicos e no controle desses
insetos, que, afinal, por viverem em esgoto e lixo
urbano, também podem ser vetores de doenças.
Agora que você conhece um pouco mais sobre as
baratas, elas não se tornaram um pouco mais
atraentes? E será que acabar com elas continua
sendo uma boa ideia? O que você acha? Que tal
estudar e conhecer mais sobre elas e sobre outros
insetos, e também sobre os outros animais e plantas
que existem no nosso país e no mundo? Seja
curioso! Conhecer é a melhor forma de preservar
nossa biodiversidade!</p>
            <p class="mt-2 text-sm font-semibold">Qual é o tema desse texto?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q28" value="A"><span>(A) A evolução das baratas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q28" value="B"><span>(B) A infestação das baratas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q28" value="C"><span>(C) A sobrevivência das baratas à radiação.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q28" value="D"><span>(D) A importância das baratas para o ecossistema.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q28" value="E"><span>(E) A descoberta de bactérias nas fezes das baratas.</span></label>
            </div>
        </fieldset>

        <fieldset id="q29" class="border rounded p-4">
            <legend class="font-semibold">Item 29 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm"><i>(Utilize o mesmo texto sobre "Dona Baratinha" da questão anterior)</i></p>
            <p class="mt-2 text-sm font-semibold">Segundo o texto, qual é a consequência que a extinção das baratas pode causar?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q29" value="A"><span>(A) Aumentar a população de predadores das baratas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q29" value="B"><span>(B) Impactar a existência das populações dos predadores das baratas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q29" value="C"><span>(C) Afetar a vida dos insetos que se alimentam de outros animais mortos.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q29" value="D"><span>(D) Provocar a extinção de todos os animais que se alimentam das baratas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q29" value="E"><span>(E) Extinguir todas as populações de predadores das baratas e outros insetos.</span></label>
            </div>
        </fieldset>

        <fieldset id="q30" class="border rounded p-4">
            <legend class="font-semibold">Item 30 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: “<u>Além disso</u>, suportam cerca de 20 vezes mais radiação do que o homem.”, a expressão destacada, nesse contexto comunicativo, estabelece relação de</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q30" value="A"><span>(A) finalidade.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q30" value="B"><span>(B) condição.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q30" value="C"><span>(C) adição.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q30" value="D"><span>(D) negação.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q30" value="E"><span>(E) exclusão.</span></label>
            </div>
        </fieldset>

        <fieldset id="q31" class="border rounded p-4">
            <legend class="font-semibold">Item 31 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No desenvolvimento do texto, no trecho: “Em muitos países, especialmente na Ásia, as pessoas comem baratas! Na China, por exemplo, é comum encontrar espetinhos de baratas.”, é apresentado um contexto</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q31" value="A"><span>(A) político.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q31" value="B"><span>(B) cultural.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q31" value="C"><span>(C) filosófico.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q31" value="D"><span>(D) histórico.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q31" value="E"><span>(E) linguístico.</span></label>
            </div>
        </fieldset>

        <fieldset id="q32" class="border rounded p-4">
            <legend class="font-semibold">Item 32 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm"><i>(Utilize o mesmo texto sobre "Dona Baratinha" da questão 28)</i></p>
            <p class="mt-2 text-sm font-semibold">Qual é o local em que as baratas podem medir cerca de 10 cm de comprimento?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q32" value="A"><span>(A) Ásia.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q32" value="B"><span>(B) China.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q32" value="C"><span>(C) Austrália.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q32" value="D"><span>(D) Áreas urbanas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q32" value="E"><span>(E) Ambientes silvestres.</span></label>
            </div>
        </fieldset>

        <fieldset id="q33" class="border rounded p-4">
            <legend class="font-semibold">Item 33 - Língua Portuguesa</legend>
            <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">Qual é o objetivo do texto?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q33" value="A"><span>(A) Criticar o alto valor da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q33" value="B"><span>(B) Informar o valor mínimo da carne no mercado.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q33" value="C"><span>(C) Opinar sobre a dieta alimentar de quem vive nas ruas.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q33" value="D"><span>(D) Convencer o leitor a adquirir carne, mesmo com o alto preço.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q33" value="E"><span>(E) Ironizar sobre a forma de alimentação dos moradores em situação de rua.</span></label>
            </div>
        </fieldset>

        <fieldset id="q34" class="border rounded p-4">
            <legend class="font-semibold">Item 34 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm"><i>(Utilize a mesma charge da questão anterior)</i></p>
            <p class="mt-2 text-sm font-semibold">O texto mostra que as pessoas em situação de rua</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q34" value="A"><span>(A) acham absurda a alta do preço da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q34" value="B"><span>(B) questionam como vão viver com o alto preço da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q34" value="C"><span>(C) se cobrem com o jornal que fala sobre a alta do preço da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q34" value="D"><span>(D) se mantêm informadas sobre os preços dos alimentos por meio do jornal.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q34" value="E"><span>(E) se alimentam de comidas enlatadas e se atentam para os preços dos alimentos.</span></label>
            </div>
        </fieldset>

        <fieldset id="q35" class="border rounded p-4">
            <legend class="font-semibold">Item 35 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: “”<u>Ocê</u> viu o preço da carne??”", a palavra em destaque revela que o falante fez uso da linguagem</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q35" value="A"><span>(A) formal.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q35" value="B"><span>(B) técnica.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q35" value="C"><span>(C) literária.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q35" value="D"><span>(D) científica.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q35" value="E"><span>(E) coloquial.</span></label>
            </div>
        </fieldset>

        <fieldset id="q36" class="border rounded p-4">
            <legend class="font-semibold">Item 36 - Língua Portuguesa</legend>
            <p class="mt-2 text-sm">No trecho: “Como é que a gente vai viver assim?!", os sinais de pontuação foram usados para</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q36" value="A"><span>(A) minimizar a preocupação com o preço absurdo da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q36" value="B"><span>(B) despertar no leitor a empatia quanto à situação de alta da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q36" value="C"><span>(C) expressar a insatisfação dos consumidores de carne e alimentos enlatados.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q36" value="D"><span>(D) enfatizar a indignação ante à situação provocada pela alta do preço da carne.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q36" value="E"><span>(E) demonstrar que o alto preço da carne provoca mudanças nas vidas das pessoas.</span></label>
            </div>
        </fieldset>

        <fieldset id="q37" class="border rounded p-4">
            <legend class="font-semibold">Item 37 - Língua Portuguesa</legend>
             <p class="mt-2 text-sm"><i>(Utilize a mesma charge da questão 33)</i></p>
            <p class="mt-2 text-sm font-semibold">Qual é o contexto social evidente/predominante na situação apresentada no texto?</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q37" value="A"><span>(A) Político.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q37" value="B"><span>(B) Cultural.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q37" value="C"><span>(C) Histórico.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q37" value="D"><span>(D) Econômico.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q37" value="E"><span>(E) Educacional.</span></label>
            </div>
        </fieldset>

        <fieldset id="q38" class="border rounded p-4">
            <legend class="font-semibold">Item 38 - Língua Portuguesa</legend>
             <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">De acordo com a linguagem verbal e não verbal, entende-se que a/o</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q38" value="A"><span>(A) lixeira se sente inútil porque toda a população joga lixo nas ruas e não a utiliza.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q38" value="B"><span>(B) lixeira se sente útil perante a ação da população em relação ao descarte correto do lixo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q38" value="C"><span>(C) lixeira se sente inútil, pois a maioria da população não a utiliza para o correto descarte de lixo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q38" value="D"><span>(D) descarte correto do lixo é realizado pela maioria da população, por isso nem todas as lixeiras têm utilidade.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q38" value="E"><span>(E) descarte incorreto do lixo é realizado pela minoria da população, por isso não tem necessidade de dispor lixeiras para esse fim.</span></label>
            </div>
        </fieldset>

        <fieldset id="q39" class="border rounded p-4">
            <legend class="font-semibold">Item 39 - Língua Portuguesa</legend>
             <p class="mt-2 text-sm"><i>(Utilize a mesma charge da questão anterior)</i></p>
            <p class="mt-2 text-sm font-semibold">O tema desse texto é a/o</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q39" value="A"><span>(A) falta de lixeiras para o correto descarte de lixo.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q39" value="B"><span>(B) a necessidade de adequação das lixeiras.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q39" value="C"><span>(C) lixo produzido pela população.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q39" value="D"><span>(D) utilidade das lixeiras de rua.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q39" value="E"><span>(E) correto descarte de lixo.</span></label>
            </div>
        </fieldset>
        
        <fieldset id="q40" class="border rounded p-4">
            <legend class="font-semibold">Item 40 - Língua Portuguesa</legend>
             <div class="border-dashed border-2 border-gray-300 p-4 rounded text-center text-sm text-gray-500 my-2"></div>
            <p class="mt-2 text-sm font-semibold">O objetivo desse cartum é criticar</p>
            <div class="mt-2 space-y-1 options">
                <label class="flex items-center gap-2 option-label"><input required type="radio" name="q40" value="A"><span>(A) a deformação do corpo mediante o uso inadequado do celular.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q40" value="B"><span>(B) a evolução humana e seus objetos de apoio para caminhar.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q40" value="C"><span>(C) o vestuário do homem no decorrer de sua evolução.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q40" value="D"><span>(D) os avanços da tecnologia e suas utilidades.</span></label>
                <label class="flex items-center gap-2 option-label"><input type="radio" name="q40" value="E"><span>(E) a forma como os homens caminham.</span></label>
            </div>
        </fieldset>

        <div class="flex items-center justify-between"><div class="text-sm text-gray-600"></div><button id="submitBtn" type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Enviar prova</button></div>
      </form>
    </main>

    <footer class="mt-6 text-xs text-gray-500 text-center">COLÉGIO ESTADUAL JOSÉ ABÍLIO: 2025@</footer>
    </div>
    <div id="modalRoot" style="display:none;"></div>

<script>
    const SERIES = "1_SERIE_LINGUAGENS"; 
    const MAX_ATTEMPTS = 1;
    const PROGRESS_KEY = `progress_${SERIES}`;
    const SUPABASE_URL = "https://ggqljtbbjavvyvawiwus.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdncWxqdGJiamF2dnl2YXdpd3VzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwNzY0MTgsImV4cCI6MjA3MzY1MjQxOH0.PnMwg10Hu_02lytY91JkfyqlDtAUdB_LpgQLOAJKi04";
    const { createClient } = supabase;
    const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const studentNameInput = document.getElementById('studentName');
    const studentIdInput = document.getElementById('studentId');
    const studentClassInput = document.getElementById('studentClass');
    const startBtn = document.getElementById('startBtn');
    const startBtnText = document.getElementById('startBtnText');
    const startBtnSpinner = document.getElementById('startBtnSpinner');
    const startBtnArrow = document.getElementById('startBtnArrow');
    const infoMsg = document.getElementById('infoMsg');
    const quizArea = document.getElementById('quizArea');
    const quizForm = document.getElementById('quizForm');
    const modalRoot = document.getElementById('modalRoot');

    async function signInAnonymously() {
        const { error } = await supabaseClient.auth.signInAnonymously();
        if (error) {
            console.error('Erro ao fazer login anônimo:', error);
            document.body.innerHTML = '<div style="text-align: center; padding: 50px; font-family: sans-serif;"><h1>Erro de Conexão</h1><p>Não foi possível iniciar uma sessão segura. Por favor, recarregue a página.</p></div>';
            throw new Error("Falha na sessão anônima.");
        }
    }
    
    function qs(sel, ctx = document) { return ctx.querySelector(sel); }
    function qsa(sel, ctx = document) { return Array.from(ctx.querySelectorAll(sel)); }
    
    function normalizeString(str) {
      if (!str) return '';
      let normalized = str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
      return normalized.toUpperCase().replace(/\s+/g, '_').replace(/[^a-zA-Z0-9_-]/g, '');
    }
    
    studentNameInput.addEventListener('input', () => studentNameInput.value = studentNameInput.value.toUpperCase());
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('keydown', e => { if ((e.ctrlKey && e.key === 'r') || e.key === 'F5' || (e.ctrlKey && e.shiftKey && (e.key === 'i' || e.key === 'I')) || e.key === 'F12') e.preventDefault(); });

    startBtn.addEventListener('click', async () => {
        infoMsg.textContent = '';
        const name = studentNameInput.value.trim();
        const matricula = studentIdInput.value.trim();
        const turma = studentClassInput.value;
        if (!matricula || !name || !turma) { infoMsg.textContent = 'Todos os campos são obrigatórios.'; return; }
        
        startBtn.disabled = true; startBtnText.textContent = 'Verificando...'; startBtnSpinner.classList.remove('hidden'); startBtnArrow.classList.add('hidden');
        try {
            const { data: aluno, error } = await supabaseClient.from('alunos').select('nome_completo').eq('matricula', matricula).single();
            if (error || !aluno) throw new Error("Matrícula não encontrada. Verifique os dados.");
            if (normalizeString(aluno.nome_completo) !== normalizeString(name.replace(/_/g, ' '))) throw new Error("O nome não corresponde à matrícula informada.");

            const key = `exam_${SERIES}_${matricula}`;
            let record = JSON.parse(localStorage.getItem(key));
            if (record && record.attempts >= MAX_ATTEMPTS) throw new Error(`Você já atingiu o limite de ${MAX_ATTEMPTS} tentativa(s).`);

            if (!record) { record = { name: name.toUpperCase(), matricula, turma, attempts: 0, history: [], wrongQuestions: [] }; }
            else { record.name = name.toUpperCase(); record.turma = turma; }
            localStorage.setItem(key, JSON.stringify(record));

            qs('#studentInfo').classList.add('hidden');
            quizArea.classList.remove('hidden');
            if (record.attempts > 0 && Array.isArray(record.wrongQuestions)) {
                prepareSecondAttemptView(matricula, record.wrongQuestions);
            }
        } catch (err) {
            infoMsg.textContent = err.message; console.error("Falha na validação do aluno:", err.message);
        } finally {
            startBtn.disabled = false; startBtnText.textContent = 'Iniciar Avaliação'; startBtnSpinner.classList.add('hidden'); startBtnArrow.classList.remove('hidden');
        }
    });
    
    if (quizForm) quizForm.addEventListener('submit', async function (ev) {
        ev.preventDefault();
        const matricula = studentIdInput.value.trim();
        const key = `exam_${SERIES}_${matricula}`;
        let record = JSON.parse(localStorage.getItem(key));
        if (!record) { alert('Erro: registro do aluno não encontrado.'); return; }

        const studentAnswers = {};
        const visibleFieldsets = qsa('fieldset[id^="q"]', quizForm).filter(fs => fs.style.display !== 'none');
        let allAnswered = true;
        visibleFieldsets.forEach(fs => { const sel = qs(`input[name="${fs.id}"]:checked`, fs); if (!sel) allAnswered = false; studentAnswers[fs.id] = sel ? sel.value : null; });
        if (!allAnswered) { showToast('Responda todas as questões antes de enviar.', 'warn'); return; }

        qs('#submitBtn').disabled = true; qs('#submitBtn').textContent = 'Corrigindo...';
        
        try {
            const invokeCorrection = async (answers) => {
                const { data, error } = await supabaseClient.rpc('corrigir_respostas_aluno', { exam_id: SERIES, student_answers: answers });
                if (error) throw new Error(`Erro na API de correção: ${error.message}`);
                if (data.error) throw new Error(`Erro no servidor: ${data.error}`);
                return data;
            };

            record.attempts++;
            record.history = record.history || [];
            record.history.push({ attempt: record.attempts, answers: studentAnswers, ts: new Date().toISOString() });
            
            const isSecondAttempt = record.attempts > 1;
            const answersToCorrect = isSecondAttempt ? { ...(record.history[0]?.answers || {}), ...studentAnswers } : studentAnswers;
            const resultData = await invokeCorrection(answersToCorrect);

            record.correctCount = resultData.correctCount;
            record.totalQuestions = resultData.totalQuestions;
            if (record.attempts === 1) {
                record.wrongQuestions = resultData.wrongQuestions;
                record.retakeAllowed = resultData.wrongQuestions.length > 0 && MAX_ATTEMPTS > 1;
            }
            if (record.attempts >= MAX_ATTEMPTS || !record.retakeAllowed) { record.finalized = true; record.finalAnswers = answersToCorrect; }
            
            localStorage.setItem(key, JSON.stringify(record));
            localStorage.removeItem(PROGRESS_KEY);
            quizArea.classList.add('hidden');
            if (record.finalized) { showModalResultFinal(record); } else { showModalResultPartial(record); }
        } catch (err) {
            console.error("Erro ao chamar a função de correção:", err.message);
            showToast('Houve um erro ao corrigir sua prova. Tente novamente.', 'error');
            if (record) { record.attempts--; localStorage.setItem(key, JSON.stringify(record)); }
        } finally { qs('#submitBtn').disabled = false; qs('#submitBtn').textContent = 'Enviar prova'; }
    });
    
    function animateValue(element, start, end, duration) { let startTimestamp = null; const step = (timestamp) => { if (!startTimestamp) startTimestamp = timestamp; const progress = Math.min((timestamp - startTimestamp) / duration, 1); const easedProgress = 1 - Math.pow(1 - progress, 3); element.textContent = Math.floor(easedProgress * (end - start) + start); if (progress < 1) { window.requestAnimationFrame(step); } else { element.textContent = end; } }; window.requestAnimationFrame(step); }
    function createModal(htmlContent) { modalRoot.innerHTML = `<div class="modal-backdrop"><div class="modal">${htmlContent}</div></div>`; modalRoot.style.display = 'flex'; qs('.modal-backdrop', modalRoot).addEventListener('click', e => { if (e.target === e.currentTarget) { const record = JSON.parse(localStorage.getItem(`exam_${SERIES}_${studentIdInput.value.trim()}`)); if (!record || record.finalized || !record.retakeAllowed) closeModal(); } }); }
    function closeModal() { modalRoot.style.display = 'none'; modalRoot.innerHTML = ''; }
    function showToast(text, type = 'info') { const t = document.createElement('div'); t.className = 'toast'; t.textContent = text; document.body.appendChild(t); setTimeout(() => { t.style.transition = 'opacity 400ms'; t.style.opacity = '0'; }, 2600); setTimeout(() => t.remove(), 3000); }
    function showModalResultPartial(record) { const total = record.totalQuestions || 40; const pct = Math.round((record.correctCount / total) * 100); const msg = `Você pode refazer apenas as ${record.wrongQuestions.length} questões que errou. Boa sorte!`; const btn = `<button id="modalRetake" class="group flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg bg-blue-600 px-5 py-3 font-semibold text-white transition hover:bg-blue-700 active:scale-95"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201-4.42 5.5 5.5 0 017.48-5.013.563.563 0 01.764.819l-1.22 1.464a.563.563 0 01-.764-.819A4.375 4.375 0 006.19 7.004a4.375 4.375 0 007.412 3.56a.563.563 0 01.81.76zM4.688 8.576a5.5 5.5 0 019.201 4.42 5.5 5.5 0 01-7.48 5.013.563.563 0 01-.764-.819l1.22-1.464a.563.563 0 01.764.819 4.375 4.375 0 007.92-3.56 4.375 4.375 0 00-7.412-3.56.563.563 0 01-.81-.76z" clip-rule="evenodd" /></svg><span>Fazer 2ª Tentativa</span></button>`; createModal(`<div class="text-center"><div class="check-wrap"><svg class="check-svg" viewBox="0 0 52 52"><path class="checkmark__path" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg></div><h2 class="text-2xl font-bold text-slate-900 mt-4">1ª Tentativa Concluída</h2><p class="text-5xl font-bold text-slate-800 my-2"><span id="score-counter">0</span>%</p><p class="text-sm text-gray-600">Acertos: ${record.correctCount} de ${total}</p><p class="mt-4 max-w-md mx-auto">${msg}</p><div id="confetti-container" class="confetti"></div><div class="mt-6 flex flex-col sm:flex-row gap-3 justify-center">${btn}</div></div>`); const scoreEl = qs('#score-counter'); setTimeout(() => { animateValue(scoreEl, 0, pct, 1500); setTimeout(() => { qs('#confetti-container').innerHTML = `<span>🎉</span><span>🎊</span><span>🥳</span><span>✨</span>`; }, 1500); }, 300); qs('#modalRetake')?.addEventListener('click', () => { closeModal(); quizArea.classList.remove('hidden'); prepareSecondAttemptView(record.matricula, record.wrongQuestions); }); }
    function showModalResultFinal(record) { const total = record.totalQuestions || 40; const pct = Math.round((record.correctCount / total) * 100); const msg = "Desempenho finalizado. Clique abaixo para gerar e enviar seu resultado."; const btn = `<button id="modalExport" class="group flex w-full sm:w-auto items-center justify-center gap-2 rounded-lg bg-indigo-600 px-5 py-3 font-semibold text-white transition hover:bg-indigo-700 active:scale-95"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M10.75 2.75a.75.75 0 00-1.5 0v8.5a.75.75 0 001.5 0v-8.5z" /><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v4.59L7.3 9.24a.75.75 0 00-1.1 1.02l3.25 3.5a.75.75 0 001.1 0l3.25-3.5a.75.75 0 10-1.1-1.02l-1.95 2.1V6.75z" clip-rule="evenodd" /></svg><span>Enviar Resultado Final</span></button>`; createModal(`<div class="text-center"><div class="check-wrap"><svg class="check-svg" viewBox="0 0 52 52"><path class="checkmark__path" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg></div><h2 class="text-2xl font-bold text-slate-900 mt-4">Avaliação Finalizada!</h2><p class="text-5xl font-bold text-slate-800 my-2"><span id="score-counter">0</span>%</p><p class="text-sm text-gray-600">Acertos: ${record.correctCount} de ${total}</p><p class="mt-4 max-w-md mx-auto">${msg}</p><div id="confetti-container" class="confetti"></div><div class="mt-6 flex flex-col sm:flex-row gap-3 justify-center">${btn}</div></div>`); const scoreEl = qs('#score-counter'); setTimeout(() => { animateValue(scoreEl, 0, pct, 1500); setTimeout(() => { qs('#confetti-container').innerHTML = `<span>🎉</span><span>🎊</span><span>🥳</span><span>✨</span>`; }, 1500); }, 300); qs('#modalExport')?.addEventListener('click', () => triggerExport(record.matricula)); }
    
    function saveProgress() { if (quizArea.classList.contains('hidden')) return; const matricula = studentIdInput.value.trim(); if (!matricula) return; const formData = new FormData(quizForm); const currentAnswers = {}; for (let [key, value] of formData.entries()) { currentAnswers[key] = value; } localStorage.setItem(PROGRESS_KEY, JSON.stringify({ matricula, answers: currentAnswers })); }
    function restoreProgress() { const savedProgress = localStorage.getItem(PROGRESS_KEY); if (!savedProgress) return; const progress = JSON.parse(savedProgress); if (!progress?.matricula) return; const key = `exam_${SERIES}_${progress.matricula}`; const record = JSON.parse(localStorage.getItem(key)); if (record && !record.finalized) { studentIdInput.value = record.matricula; studentNameInput.value = record.name; studentClassInput.value = record.turma; qs('#studentInfo').classList.add('hidden'); quizArea.classList.remove('hidden'); showToast('Seu progresso foi restaurado.', 'info'); Object.entries(progress.answers).forEach(([q, a]) => { const radio = qs(`input[name="${q}"][value="${a}"]`); if (radio) radio.checked = true; }); if (record.attempts > 0 && Array.isArray(record.wrongQuestions)) { prepareSecondAttemptView(record.matricula, record.wrongQuestions, false); } } else { localStorage.removeItem(PROGRESS_KEY); } }
    function prepareSecondAttemptView(matricula, wrongQuestions, shouldShuffle = true) { qsa('fieldset[id^="q"]', quizForm).forEach(fs => { const qnum = parseInt(fs.id.replace('q', '')); if (wrongQuestions.includes(qnum)) { fs.style.display = ''; fs.querySelectorAll('input[type="radio"]').forEach(r => { r.checked = false; r.required = true; }); if (shouldShuffle) shuffleOptions(fs); } else { fs.style.display = 'none'; fs.querySelectorAll('input[type="radio"]').forEach(r => r.required = false); } }); if (shouldShuffle) showToast('Responda apenas as questões que você errou.', 'info'); }
    function shuffleOptions(fieldset) { const container = fieldset.querySelector('.options'); if (container) for (let i = container.children.length; i >= 0; i--) container.appendChild(container.children[Math.random() * i | 0]); }
    
    function triggerExport(matricula) {
        const key = `exam_${SERIES}_${matricula}`;
        const record = JSON.parse(localStorage.getItem(key));
        if (!record?.finalized) { showToast('A prova precisa ser finalizada.', 'warn'); return; }

        const btn = qs('#modalExport');
        if (btn) { btn.disabled = true; btn.innerHTML = '<div class="spinner"></div>Gerando PDF...'; }

        // AÇÃO CORRIGIDA: Faz um SELECT simples e seguro para buscar o gabarito.
        supabaseClient
            .from('gabaritos')
            .select('gabarito_completo')
            .eq('serie', SERIES)
            .single()
        .then(({ data, error }) => {
            if (error || !data) {
                throw new Error(error?.message || 'Gabarito não encontrado para a geração do PDF.');
            }

            // Agora a variável GABARITO_PDF terá os dados corretos.
            const GABARITO_PDF = data.gabarito_completo || {};
            const totalQuestions = Object.keys(GABARITO_PDF).length || 40;
            const answers = record.finalAnswers || {};

            const tableBody = [...Array(totalQuestions).keys()].map(i => {
                const qKey = `q${i + 1}`;
                const isCorrect = answers[qKey] === GABARITO_PDF[qKey];
                return `<tr style="background-color:${isCorrect ? '#f0fff4' : '#fff5f5'};">
                    <td style="padding: 8px; text-align: center; border: 1px solid #dee2e6;">${i + 1}</td>
                    <td style="padding: 8px; text-align: center; border: 1px solid #dee2e6;">${GABARITO_PDF[qKey] || '-'}</td>
                    <td style="padding: 8px; text-align: center; border: 1px solid #dee2e6;">${answers[qKey] || 'N/R'}</td>
                    <td style="padding: 8px; text-align: center; color:${isCorrect ? '#16a34a' : '#dc2626'}; font-weight: bold;">${isCorrect ? '✓' : '✗'}</td>
                </tr>`;
            }).join('');
            
            // ... (o restante da lógica para montar e enviar o PDF continua o mesmo)
            const dataHora = new Date(record.gradedAt || Date.now()).toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' });
            const safeName = normalizeString(record.name);
            const filePath = `${SERIES}/TURMA_${record.turma}/${record.matricula}-${safeName}.pdf`;
            const wrapper = document.createElement('div');
            wrapper.innerHTML = `<div style="font-family: Arial, sans-serif; padding: 40px; font-size: 12px; color: #333;"><div style="text-align: center; margin-bottom: 20px;"><h2 style="font-size: 24px; margin: 0; color: #111;">Resultado Final da Avaliação</h2><p style="font-size: 16px; color: #555;">Linguagens e suas Tecnologias</p></div><div style="margin-bottom: 25px; padding: 15px; border: 1px solid #e9ecef; border-radius: 8px; background-color: #f8f9fa;"><p style="margin: 4px 0;"><strong>Aluno:</strong> ${record.name}</p><p style="margin: 4px 0;"><strong>Matrícula:</strong> ${record.matricula}</p><p style="margin: 4px 0;"><strong>Turma:</strong> ${record.turma}</p><p style="margin: 4px 0;"><strong>Data de Finalização:</strong> ${dataHora}</p></div><div style="margin-bottom: 20px;"><p style="font-size: 16px;"><strong>Pontuação Final:</strong> ${record.correctCount} de ${totalQuestions} acertos (${Math.round((record.correctCount / totalQuestions) * 100)}%)</p></div><table style="width: 100%; border-collapse: collapse; font-size: 11px;"><thead><tr style="background-color:#e9ecef;"><th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">Questão</th><th style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">Gabarito</th><th style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">Sua Resposta</th><th style="padding: 10px; border: 1px solid #dee2e6; text-align: center;">Status</th></tr></thead><tbody>${tableBody}</tbody></table><p style="margin-top: 30px; font-size: 10px; color: #999; text-align: center;">Documento gerado pelo Portal de Avaliações CEJA</p></div>`;
            const opt = { margin: 0.5, filename: `${safeName}.pdf`, jsPDF: { unit: 'in', format: 'a4' }, html2canvas: { scale: 2 } };

            html2pdf().set(opt).from(wrapper).output('blob').then(pdfBlob => {
                supabaseClient.storage.from('resultados-provas').upload(filePath, pdfBlob, { upsert: true })
                .then(({ error: uploadError }) => {
                    if (uploadError) throw uploadError;
                    showToast('Prova enviada com sucesso!', 'success');
                    if (btn) btn.textContent = "Enviado!";
                    localStorage.removeItem(key);
                })
                .catch(err => {
                    console.error('Erro no envio para Supabase:', err);
                    showToast('Erro ao enviar. Baixando PDF localmente.', 'error');
                    if (btn) { btn.disabled = false; btn.innerHTML = '<span>Tentar de Novo</span>'; }
                    saveAs(pdfBlob, `${record.matricula}-${safeName}.pdf`);
                });
            });
        }).catch(err => {
             console.error("Erro ao buscar gabarito para PDF:", err.message);
             showToast('Erro crítico ao preparar PDF.', 'error');
             if(btn) { btn.disabled = false; btn.innerHTML = '<span>Enviar Resultado Final</span>'; }
        });
    }

    function insertImagesAuto(folder = '../assets/img1ling') {
      const placeholders = qsa('div.border-dashed');
      if (!placeholders.length) return;
      function tryLoad(candidates) { return new Promise((resolve,reject) => {let i=0; const next=()=>{if(i>=candidates.length)return reject(); const url=candidates[i++]; const img=new Image(); img.onload=()=>resolve(url); img.onerror=next; img.src=url;}; next();});}
      placeholders.forEach((ph) => {
        const fs=ph.closest('fieldset'); if(!fs)return;
        const qid=fs.id.replace('q','');
        const exts=['webp','jpg','jpeg','png','gif'];
        const candidates = exts.map(ext=>`${folder}/q${qid}.${ext}`);
        tryLoad(candidates).then(src => { ph.innerHTML = `<img src="${src}" alt="Imagem da questão ${qid}" class="mx-auto max-w-full h-auto rounded shadow clickable-img" loading="lazy">`; }).catch(() => { ph.innerHTML = `<p class="text-xs text-gray-500">Imagem da questão indisponível.</p>` });
      });
      if (!qs('#lb')) { const lb=document.createElement('div'); lb.id='lb'; lb.style.cssText='position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.8);z-index:9999;padding:20px;cursor:zoom-out;'; lb.innerHTML = '<img id="lb-img" style="max-width:95%;max-height:95%;border-radius:6px;"/>'; document.body.appendChild(lb); lb.addEventListener('click', ()=>{lb.style.display='none'; qs('#lb-img').src='';});}
      document.addEventListener('click', function(e) { if (e.target?.classList.contains('clickable-img')) { qs('#lb-img').src=e.target.src; qs('#lb').style.display='flex'; } });
    }

    window.addEventListener('load', async () => { await signInAnonymously(); restoreProgress(); if(quizForm)quizForm.addEventListener('change', saveProgress); insertImagesAuto(); });
</script>
</body>
</html>